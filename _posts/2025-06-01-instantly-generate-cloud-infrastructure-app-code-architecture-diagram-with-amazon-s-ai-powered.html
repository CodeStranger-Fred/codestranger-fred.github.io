---
layout: post
title:
  Instantly Generate Cloud Infrastructure + App Code + Architecture Diagram with
  Amazon‚Äôs AI-Powered‚Ä¶
toc: true
---

<h3>
  Instantly Generate Cloud Infrastructure + App Code + Architecture Diagram with
  Amazon‚Äôs AI-Powered Code Assistant
</h3>
<h3>üìò Overview:</h3>
<p>
  This article explores how the <strong>Amazon Q Developer CLI</strong>‚Ää‚Äî‚Ääan
  AI-powered code assistant developed by AWS‚Ää‚Äî‚Ää<strong
    >revolutionizes the traditional cloud development workflow</strong
  >. It can reduce the time to build large-scale, production-ready serverless
  GenAI applications from <strong>days to just¬†minutes</strong>.
</p>
<p>
  With a <strong>single prompt</strong>, the Amazon Q Developer CLI AI¬†agent:
</p>
<ul>
  <li>
    Automatically generates
    <strong>all required cloud infrastructure</strong> (written in TypeScript
    using AWS¬†CDK),
  </li>
  <li>
    Creates <strong>application logic in Python</strong>, hosted on
    <strong>AWS¬†Lambda</strong>,
  </li>
  <li>
    And integrates seamlessly with <strong>Amazon Bedrock</strong> using the
    <strong>Claude 3 Haiku</strong> foundation model.
  </li>
</ul>
<figure>
  <img
    alt=""
    src="https://cdn-images-1.medium.com/max/1024/1*uaQToEvC1S68rSe4VCXhug.png"
  />
</figure>
<p>
  In this article, I will demonstrate how the
  <strong>Amazon Q Developer CLI AI agent</strong> helps developers accelerate
  application development and rapidly generate complete, functional, serverless
  cloud-native application code.
</p>
<p>
  While AI <strong>cannot‚Ää‚Äî‚Ääand should not‚Ää‚Äî‚Ääreplace human developers</strong>,
  it can <strong>greatly speed up</strong> the initial development phase of a
  project, making your development workflow
  <strong>faster and more efficient</strong>. Every line of code generated by
  Amazon Q is <strong>compilable</strong> and
  <strong>deployable to the cloud</strong>, allowing developers to focus on
  custom business logic instead of wrestling with infrastructure setup and cloud
  environment configuration.
</p>
<p>
  With the help of the Amazon Q Developer CLI agent, developers can complete
  work that would traditionally take
  <strong>several days in less than 10 minutes</strong>, using only a
  <strong>few simple prompts</strong>. This includes: Reading documentation,
  Writing application code, Testing, Debugging, Manual configuration. The Amazon
  Q Developer CLI
  <strong>accelerates the entire process from idea to deployment</strong>,
  fundamentally changing how developers build cloud applications.
</p>
<p>
  We only need to start with a <strong>simple high-level description</strong>,
  and the Amazon Q Developer CLI agent will guide us through the full
  development lifecycle‚Ää‚Äî‚Ää<strong>generating code</strong>,
  <strong>provisioning infrastructure</strong>,
  <strong>debugging issues</strong>, and even
  <strong>producing comprehensive documentation</strong>.
</p>
<p>
  What impressed me most is how Amazon Q Developer CLI can handle the
  <strong>entire development lifecycle with minimal input</strong>. This high
  level of intelligent assistance makes even complex AWS cloud architectures
  <strong>accessible to developers of all cloud experience levels</strong>,
  enabling them to <strong>focus on innovation</strong> rather than low-level
  implementation details.
</p>
<h3>üìù Initial Prompt to Amazon Q Developer CLI¬†Agent</h3>
<p>
  I began the entire application development process by entering the following
  simple prompt to Amazon Q Developer CLI:
</p>
<pre>I want to build a serverless application<br>with an API Gateway on the frontend receiving user inputs,<br>Lambda function to process the input and<br>passing it to Claude 3 Haiku model on Amazon Bedrock.<br>I want to build the AWS infrastructure using CDK in TypeScript<br>and Lambda Function in Python.</pre>
<p>
  Based on this single prompt, the Amazon Q CLI agent helped me accomplish the
  following tasks:
</p>
<ul>
  <li>Understood the architecture I wanted to¬†build</li>
  <li>Generated all the necessary code¬†files</li>
  <li>Properly constructed the project structure</li>
  <li>Implemented native integration with Amazon¬†Bedrock</li>
  <li>Created CDK infrastructure code in TypeScript</li>
  <li>Wrote the application logic for the Lambda function in¬†Python</li>
  <li>Guided me through the deployment process</li>
  <li>Produced complete project documentation</li>
</ul>
<h3>üí¨ Interaction with the Amazon Q Developer CLI¬†Agent</h3>
<p>
  The following is the step-by-step command-line interaction between me and the
  Amazon Q Developer CLI¬†agent:
</p>
<pre><br>$ q chat<br> <br>Hi, I&#39;m Amazon Q. Ask me anything.<br>Things to try<br>‚Ä¢ Fix the build failures in this project.<br>‚Ä¢ List my s3 buckets in us-west-2.<br>‚Ä¢ Write unit tests for my application.<br>‚Ä¢ Help me understand my git status<br>/acceptall    Toggles acceptance prompting for the session.<br>/help         Show the help dialogue<br>/quit         Quit the application<br>&gt; pwd<br>The current working directory is:<br>Execute shell command<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>I will run the following shell command: pwd<br>Executing `pwd`...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>/private/tmp/project/QDeveloperBuildOnAWS<br>üü¢ Completed in 0.11s<br>/private/tmp/project/QDeveloperBuildOnAWS<br>&gt; I want to build a serverless application with with an API Gateway on the frontend receiving user inputs, Lambda function to process the input and passing it to Claude 3 Haiku model on Bedrock. I want to build the AWS infrastructure using CDK in Typescript and Lambda Function in Python.<br>I&#39;ll help you build a serverless application with API Gateway, Lambda, and Amazon Bedrock&#39;s Claude 3 Haiku model using CDK in TypeScript and Lambda in Python. Let&#39;s break this down into steps:<br> <br>## Step 1: Set up the project structure<br> <br>Let&#39;s first check if CDK is installed and create our project structure:<br>Execute shell command<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>I will run the following shell command: <br>npm list -g aws-cdk || echo &quot;CDK not found globally&quot;<br>Enter y to run this tool, otherwise continue chatting.<br>&gt; y<br>Executing `npm list -g aws-cdk || echo &quot;CDK not found globally&quot;`...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>/Users/test/.local/share/mise/installs/node/20.12.1/lib<br>‚îî‚îÄ‚îÄ aws-cdk@2.1003.0<br>üü¢ Completed in 1.746s<br>Great! CDK is already installed. Let&#39;s create our project structure:<br> <br>Execute shell command<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>I will run the following shell command: <br>mkdir -p bedrock-serverless-app/lambda<br> <br>Enter y to run this tool, otherwise continue chatting.<br> <br>&gt; y<br> <br>Executing `mkdir -p bedrock-serverless-app/lambda`...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br> <br>üü¢ Completed in 0.23s<br> <br>Execute shell command<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>I will run the following shell command: <br>cd bedrock-serverless-app &amp;&amp; cdk init app --language typescript<br> <br>Enter y to run this tool, otherwise continue chatting.<br> <br>&gt; y<br> <br>Executing `cd bedrock-serverless-app &amp;&amp; cdk init app --language typescript`...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br> <br>NOTICES         (What&#39;s this? https://github.com/aws/aws-cdk/wiki/CLI-Notices)<br>32775   (cli): CLI versions and CDK library versions have diverged<br>        Overview: Starting in CDK 2.179.0, CLI versions will no longer be in<br>                  lockstep with CDK library versions. CLI versions will now be<br>                  released as 2.1000.0 and continue with 2.1001.0, etc.<br>        Affected versions: cli: &gt;=2.0.0 &lt;=2.1005.0<br>        More information at: https://github.com/aws/aws-cdk/issues/32775<br>If you don‚Äôt want to see a notice anymore, use &quot;cdk acknowledge &lt;id&gt;&quot;. For example, &quot;cdk acknowledge 32775&quot;.<br>`cdk init` cannot be run in a non-empty directory!<br>üü¢ Completed in 1.178s<br>Let&#39;s create a new directory and initialize the CDK project:<br> <br>Execute shell command<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>I will run the following shell command: <br>mkdir -p bedrock-api &amp;&amp; cd bedrock-api &amp;&amp; cdk init app --language typescript<br> <br>Enter y to run this tool, otherwise continue chatting.<br> <br>&gt; y<br> <br>Executing `mkdir -p bedrock-api &amp;&amp; cd bedrock-api &amp;&amp; cdk init app --language typescript`...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Applying project template app for typescript<br># Welcome to your CDK TypeScript project<br> <br>This is a blank project for CDK development with TypeScript.<br> <br>The `cdk.json` file tells the CDK Toolkit how to execute your app.<br> <br>## Useful commands<br> <br>* `npm run build`   compile typescript to js<br>* `npm run watch`   watch for changes and compile<br>* `npm run test`    perform the jest unit tests<br>* `npx cdk deploy`  deploy this stack to your default AWS account/region<br>* `npx cdk diff`    compare deployed stack with current state<br>* `npx cdk synth`   emits the synthesized CloudFormation template<br> <br>Initializing a new git repository...<br>hint: Using &#39;master&#39; as the name for the initial branch. This default branch name<br>hint: is subject to change. To configure the initial branch name to use in all<br>hint: of your new repositories, which will suppress this warning, call:<br>hint: <br>hint:   git config --global init.defaultBranch &lt;name&gt;<br>hint: <br>hint: Names commonly chosen instead of &#39;master&#39; are &#39;main&#39;, &#39;trunk&#39; and<br>hint: &#39;development&#39;. The just-created branch can be renamed via this command:<br>hint: <br>hint:   git branch -m &lt;name&gt;<br>The following files have been added, modified, moved, or removed:<br>********************************************************************<br> <br>A       .gitignore<br>A       .npmignore<br>A       README.md<br>A       bin/bedrock-api.ts<br>A       cdk.json<br>A       jest.config.js<br>A       lib/bedrock-api-stack.ts<br>A       package.json<br>A       test/bedrock-api.test.ts<br>A       tsconfig.json<br> <br>********************************************************************<br>Executing npm install...<br>npm WARN deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.<br>npm WARN deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported<br>‚úÖ All done!<br> <br>NOTICES         (What&#39;s this? https://github.com/aws/aws-cdk/wiki/CLI-Notices)<br>32775   (cli): CLI versions and CDK library versions have diverged<br>        Overview: Starting in CDK 2.179.0, CLI versions will no longer be in<br>                  lockstep with CDK library versions. CLI versions will now be<br>                  released as 2.1000.0 and continue with 2.1001.0, etc.<br>        Affected versions: cli: &gt;=2.0.0 &lt;=2.1005.0<br>        More information at: https://github.com/aws/aws-cdk/issues/32775<br>If you don‚Äôt want to see a notice anymore, use &quot;cdk acknowledge &lt;id&gt;&quot;. For example, &quot;cdk acknowledge 32775&quot;.<br>üü¢ Completed in 25.185s<br>## Step 2: Install required dependencies<br>Execute shell command<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>I will run the following shell command: <br>cd bedrock-api &amp;&amp; npm install aws-cdk-lib constructs @aws-cdk/aws-apigatewayv2-alpha @aws-cdk/aws-apigatewayv2-integrations-alpha<br>Enter y to run this tool, otherwise continue chatting.<br>&gt; y<br>Executing `cd bedrock-api &amp;&amp; npm install aws-cdk-lib constructs @aws-cdk/aws-apigatewayv2-alpha @aws-cdk/aws-apigatewayv2-integrations-alpha`...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>added 3 packages, and audited 339 packages in 2s<br>35 packages are looking for funding<br>  run `npm fund` for details<br>found 0 vulnerabilities<br>üü¢ Completed in 2.864s<br>Execute shell command<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>I will run the following shell command: <br>cd bedrock-api &amp;&amp; mkdir -p lambda<br>Enter y to run this tool, otherwise continue chatting.<br>&gt; y<br>Executing `cd bedrock-api &amp;&amp; mkdir -p lambda`...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>üü¢ Completed in 0.23s<br>## Step 3: Create the Lambda function<br>Let&#39;s create a Python Lambda function that will process user input and call the Bedrock model:<br> <br>Write to filesystem<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Path: /private/tmp/project/QDeveloperBuildOnAWS/bedrock-api/lambda/bedrock_handler.py<br> <br>+     1: import json<br>+     2: import boto3<br>+     3: import os<br>+     4: <br>+     5: # Initialize Bedrock client<br>+     6: bedrock_runtime = boto3.client(&#39;bedrock-runtime&#39;)<br>+     7: <br>+     8: def handler(event, context):<br>+     9:     try:<br>+    10:         # Parse the request body from API Gateway<br>+    11:         body = json.loads(event.get(&#39;body&#39;, &#39;{}&#39;))<br>+    12:         user_input = body.get(&#39;prompt&#39;, &#39;&#39;)<br>+    13:         <br>+    14:         if not user_input:<br>+    15:             return {<br>+    16:                 &#39;statusCode&#39;: 400,<br>+    17:                 &#39;headers&#39;: {<br>+    18:                     &#39;Content-Type&#39;: &#39;application/json&#39;,<br>+    19:                     &#39;Access-Control-Allow-Origin&#39;: &#39;*&#39;<br>+    20:                 },<br>+    21:                 &#39;body&#39;: json.dumps({&#39;error&#39;: &#39;No prompt provided&#39;})<br>+    22:             }<br>+    23:         <br>+    24:         # Prepare the request for Claude 3 Haiku<br>+    25:         request_body = {<br>+    26:             &quot;anthropic_version&quot;: &quot;bedrock-2023-05-31&quot;,<br>+    27:             &quot;max_tokens&quot;: 1000,<br>+    28:             &quot;messages&quot;: [<br>+    29:                 {<br>+    30:                     &quot;role&quot;: &quot;user&quot;,<br>+    31:                     &quot;content&quot;: user_input<br>+    32:                 }<br>+    33:             ]<br>+    34:         }<br>+    35:         <br>+    36:         # Call the Bedrock model (Claude 3 Haiku)<br>+    37:         response = bedrock_runtime.invoke_model(<br>+    38:             modelId=&#39;anthropic.claude-3-haiku-20240307-v1:0&#39;,  # Claude 3 Haiku model ID<br>+    39:             body=json.dumps(request_body)<br>+    40:         )<br>+    41:         <br>+    42:         # Parse the response<br>+    43:         response_body = json.loads(response.get(&#39;body&#39;).read())<br>+    44:         model_response = response_body.get(&#39;content&#39;, [{}])[0].get(&#39;text&#39;, &#39;&#39;)<br>+    45:         <br>+    46:         # Return the response<br>+    47:         return {<br>+    48:             &#39;statusCode&#39;: 200,<br>+    49:             &#39;headers&#39;: {<br>+    50:                 &#39;Content-Type&#39;: &#39;application/json&#39;,<br>+    51:                 &#39;Access-Control-Allow-Origin&#39;: &#39;*&#39;<br>+    52:             },<br>+    53:             &#39;body&#39;: json.dumps({<br>+    54:                 &#39;response&#39;: model_response<br>+    55:             })<br>+    56:         }<br>+    57:     <br>+    58:     except Exception as e:<br>+    59:         print(f&quot;Error: {str(e)}&quot;)<br>+    60:         return {<br>+    61:             &#39;statusCode&#39;: 500,<br>+    62:             &#39;headers&#39;: {<br>+    63:                 &#39;Content-Type&#39;: &#39;application/json&#39;,<br>+    64:                 &#39;Access-Control-Allow-Origin&#39;: &#39;*&#39;<br>+    65:             },<br>+    66:             &#39;body&#39;: json.dumps({<br>+    67:                 &#39;error&#39;: str(e)<br>+    68:             })<br>+    69:         }<br> <br>Enter y to run this tool, otherwise continue chatting.<br> <br>&gt; y<br> <br>Writing to filesystem...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Creating: /private/tmp/project/QDeveloperBuildOnAWS/bedrock-api/lambda/bedrock_handler.py<br> <br>üü¢ Completed in 0.0s<br> <br>Write to filesystem<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Path: /private/tmp/project/QDeveloperBuildOnAWS/bedrock-api/lambda/requirements.txt<br> <br>+    1: boto3&gt;=1.28.0<br> <br>Enter y to run this tool, otherwise continue chatting.<br> <br>&gt; y<br> <br>Writing to filesystem...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Creating: /private/tmp/project/QDeveloperBuildOnAWS/bedrock-api/lambda/requirements.txt<br> <br>üü¢ Completed in 0.6s<br> <br>Write to filesystem<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Path: bedrock-api/lib/bedrock-api-stack.ts<br> <br>   1,  1: import * as cdk from &#39;aws-cdk-lib&#39;;<br>   2,  2: import { Construct } from &#39;constructs&#39;;<br>-  3    : // import * as sqs from &#39;aws-cdk-lib/aws-sqs&#39;;<br>+      3: import * as lambda from &#39;aws-cdk-lib/aws-lambda&#39;;<br>+      4: import * as apigw from &#39;aws-cdk-lib/aws-apigateway&#39;;<br>+      5: import * as iam from &#39;aws-cdk-lib/aws-iam&#39;;<br>+      6: import * as path from &#39;path&#39;;<br>   4,  7: <br>   5,  8: export class BedrockApiStack extends cdk.Stack {<br>   6,  9:   constructor(scope: Construct, id: string, props?: cdk.StackProps) {<br>   7, 10:     super(scope, id, props);<br>   8, 11: <br>-  9    :     // The code that defines your stack goes here<br>+     12:     // Create IAM role for Lambda with Bedrock permissions<br>+     13:     const lambdaRole = new iam.Role(this, &#39;BedrockLambdaRole&#39;, {<br>+     14:       assumedBy: new iam.ServicePrincipal(&#39;lambda.amazonaws.com&#39;),<br>+     15:       managedPolicies: [<br>+     16:         iam.ManagedPolicy.fromAwsManagedPolicyName(&#39;service-role/AWSLambdaBasicExecutionRole&#39;),<br>+     17:       ],<br>+     18:     });<br>+     19: <br>+     20:     // Add Bedrock permissions<br>+     21:     lambdaRole.addToPolicy(new iam.PolicyStatement({<br>+     22:       actions: [<br>+     23:         &#39;bedrock:InvokeModel&#39;,<br>+     24:       ],<br>+     25:       resources: [&#39;*&#39;], // In production, scope this down to specific model ARNs<br>+     26:     }));<br>+     27: <br>+     28:     // Create Lambda function<br>+     29:     const bedrockFunction = new lambda.Function(this, &#39;BedrockFunction&#39;, {<br>+     30:       runtime: lambda.Runtime.PYTHON_3_9,<br>+     31:       handler: &#39;bedrock_handler.handler&#39;,<br>+     32:       code: lambda.Code.fromAsset(path.join(__dirname, &#39;../lambda&#39;), {<br>+     33:         bundling: {<br>+     34:           image: lambda.Runtime.PYTHON_3_9.bundlingImage,<br>+     35:           command: [<br>+     36:             &#39;bash&#39;, &#39;-c&#39;, [<br>+     37:               &#39;pip install -r requirements.txt -t /asset-output&#39;,<br>+     38:               &#39;cp bedrock_handler.py /asset-output&#39;,<br>+     39:             ].join(&#39; &amp;&amp; &#39;),<br>+     40:           ],<br>+     41:         },<br>+     42:       }),<br>+     43:       timeout: cdk.Duration.seconds(30),<br>+     44:       memorySize: 256,<br>+     45:       role: lambdaRole,<br>+     46:     });<br>+     47: <br>+     48:     // Create API Gateway<br>+     49:     const api = new apigw.RestApi(this, &#39;BedrockApi&#39;, {<br>+     50:       restApiName: &#39;Bedrock Claude 3 Haiku API&#39;,<br>+     51:       description: &#39;API Gateway for Bedrock Claude 3 Haiku model&#39;,<br>+     52:       defaultCorsPreflightOptions: {<br>+     53:         allowOrigins: apigw.Cors.ALL_ORIGINS,<br>+     54:         allowMethods: apigw.Cors.ALL_METHODS,<br>+     55:       },<br>+     56:     });<br>+     57: <br>+     58:     // Create API Gateway resource and method<br>+     59:     const bedrockResource = api.root.addResource(&#39;generate&#39;);<br>+     60:     bedrockResource.addMethod(&#39;POST&#39;, new apigw.LambdaIntegration(bedrockFunction));<br>  10, 61: <br>- 11    :     // example resource<br>- 12    :     // const queue = new sqs.Queue(this, &#39;BedrockApiQueue&#39;, {<br>- 13    :     //   visibilityTimeout: cdk.Duration.seconds(300)<br>- 14    :     // });<br>+     62:     // Output the API Gateway URL<br>+     63:     new cdk.CfnOutput(this, &#39;ApiUrl&#39;, {<br>+     64:       value: api.url,<br>+     65:       description: &#39;URL of the API Gateway&#39;,<br>+     66:     });<br>  15, 67:   }<br>- 16    : }<br>+     68: }<br> <br>Enter y to run this tool, otherwise continue chatting.<br> <br>&gt; y<br> <br>Writing to filesystem...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Replacing: bedrock-api/lib/bedrock-api-stack.ts<br> <br>üü¢ Completed in 0.1s<br> <br>Write to filesystem<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Path: bedrock-api/bin/bedrock-api.ts<br> <br>   1,  1: #!/usr/bin/env node<br>+      2: import &#39;source-map-support/register&#39;;<br>   2,  3: import * as cdk from &#39;aws-cdk-lib&#39;;<br>   3,  4: import { BedrockApiStack } from &#39;../lib/bedrock-api-stack&#39;;<br>   4,  5: <br>   5,  6: const app = new cdk.App();<br>   6,  7: new BedrockApiStack(app, &#39;BedrockApiStack&#39;, {<br>   7,  8:   /* If you don&#39;t specify &#39;env&#39;, this stack will be environment-agnostic.<br>   8,  9:    * Account/Region-dependent features and context lookups will not work,<br>   9, 10:    * but a single synthesized template can be deployed anywhere. */<br>  10, 11: <br>  11, 12:   /* Uncomment the next line to specialize this stack for the AWS Account<br>  12, 13:    * and Region that are implied by the current CLI configuration. */<br>  13, 14:   // env: { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION },<br>  14, 15: <br>  15, 16:   /* Uncomment the next line if you know exactly what Account and Region you<br>  16, 17:    * want to deploy the stack to. */<br>  17, 18:   // env: { account: &#39;123456789012&#39;, region: &#39;us-east-1&#39; },<br>  18, 19: <br>  19, 20:   /* For more information, see https://docs.aws.amazon.com/cdk/latest/guide/environments.html */<br>  20, 21: });<br>Enter y to run this tool, otherwise continue chatting.<br>&gt; y<br>Writing to filesystem...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Replacing: bedrock-api/bin/bedrock-api.ts<br>üü¢ Completed in 0.0s<br>Write to filesystem<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Path: bedrock-api/README.md<br>-  1    : # Welcome to your CDK TypeScript project<br>+      1: # Serverless Bedrock API Application<br>+      2: <br>+      3: This project creates a serverless application with:<br>+      4: - API Gateway to receive user inputs<br>+      5: - Lambda function to process the input<br>+      6: - Integration with Amazon Bedrock&#39;s Claude 3 Haiku model<br>+      7: <br>+      8: ## Architecture<br>+      9: <br>+     10: ```<br>+     11: ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê<br>+     12: ‚îÇ             ‚îÇ     ‚îÇ             ‚îÇ     ‚îÇ             ‚îÇ<br>+     13: ‚îÇ API Gateway ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Lambda    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Bedrock   ‚îÇ<br>+     14: ‚îÇ             ‚îÇ     ‚îÇ             ‚îÇ     ‚îÇ             ‚îÇ<br>+     15: ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò<br>+     16: ```<br>+     18: ## Prerequisites<br>+     19: <br>+     20: - AWS CLI configured with appropriate permissions<br>+     21: - Node.js and npm installed<br>+     22: - AWS CDK installed (`npm install -g aws-cdk`)<br>+     23: <br>+     24: ## Deployment Instructions<br>+     25: <br>+     26: 1. Install dependencies:<br>+     27:    ```<br>+     28:    npm install<br>+     29:    ```<br>+     30: <br>+     31: 2. Build the TypeScript code:<br>+     32:    ```<br>+     33:    npm run build<br>+     34:    ```<br>+     35: <br>+     36: 3. Deploy the stack:<br>+     37:    ```<br>+     38:    cdk deploy<br>+     39:    ```<br>+     40: <br>+     41: 4. After deployment, the API Gateway URL will be displayed in the outputs.<br>+     42: <br>+     43: ## API Usage<br>+     44: <br>+     45: Send a POST request to the `/generate` endpoint with a JSON body:<br>   2, 46: <br>-  3    : This is a blank project for CDK development with TypeScript.<br>+     47: ```json<br>+     48: {<br>+     49:   &quot;prompt&quot;: &quot;Your prompt for the model here&quot;<br>+     50: }<br>+     51: ```<br>   4, 52: <br>-  5    : The `cdk.json` file tells the CDK Toolkit how to execute your app.<br>+     53: Example using curl:<br>+     54: ```bash<br>+     55: curl -X POST \<br>+     56:   https://your-api-id.execute-api.region.amazonaws.com/prod/generate \<br>+     57:   -H &#39;Content-Type: application/json&#39; \<br>+     58:   -d &#39;{&quot;prompt&quot;: &quot;Tell me about AWS Bedrock&quot;}&#39;<br>+     59: ```<br>   6, 60: <br>-  7    : ## Useful commands<br>+     61: ## Clean Up<br>   8, 62: <br>-  9    : * `npm run build`   compile typescript to js<br>- 10    : * `npm run watch`   watch for changes and compile<br>- 11    : * `npm run test`    perform the jest unit tests<br>- 12    : * `npx cdk deploy`  deploy this stack to your default AWS account/region<br>- 13    : * `npx cdk diff`    compare deployed stack with current state<br>- 14    : * `npx cdk synth`   emits the synthesized CloudFormation template<br>+     63: To remove all resources created by this stack:<br>+     64: ```<br>+     65: cdk destroy<br>+     66: ```<br> <br>Enter y to run this tool, otherwise continue chatting.<br> <br>&gt; y<br> <br>Writing to filesystem...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Replacing: bedrock-api/README.md<br> <br>üü¢ Completed in 0.0s<br> <br>Write to filesystem<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Path: bedrock-api/test/bedrock-api.test.ts<br> <br>-  1    : // import * as cdk from &#39;aws-cdk-lib&#39;;<br>-  2    : // import { Template } from &#39;aws-cdk-lib/assertions&#39;;<br>-  3    : // import * as BedrockApi from &#39;../lib/bedrock-api-stack&#39;;<br>+      1: import * as cdk from &#39;aws-cdk-lib&#39;;<br>+      2: import { Template } from &#39;aws-cdk-lib/assertions&#39;;<br>+      3: import * as BedrockApi from &#39;../lib/bedrock-api-stack&#39;;<br>+      4: <br>+      5: test(&#39;API Gateway and Lambda Created&#39;, () =&gt; {<br>+      6:   const app = new cdk.App();<br>+      7:   // WHEN<br>+      8:   const stack = new BedrockApi.BedrockApiStack(app, &#39;MyTestStack&#39;);<br>+      9:   // THEN<br>+     10:   const template = Template.fromStack(stack);<br>+     11: <br>+     12:   // Verify Lambda function is created<br>+     13:   template.hasResourceProperties(&#39;AWS::Lambda::Function&#39;, {<br>+     14:     Runtime: &#39;python3.9&#39;,<br>+     15:     Handler: &#39;bedrock_handler.handler&#39;,<br>+     16:   });<br>   4, 17: <br>-  5    : // example test. To run these tests, uncomment this file along with the<br>-  6    : // example resource in lib/bedrock-api-stack.ts<br>-  7    : test(&#39;SQS Queue Created&#39;, () =&gt; {<br>-  8    : //   const app = new cdk.App();<br>-  9    : //     // WHEN<br>- 10    : //   const stack = new BedrockApi.BedrockApiStack(app, &#39;MyTestStack&#39;);<br>- 11    : //     // THEN<br>- 12    : //   const template = Template.fromStack(stack);<br>+     18:   // Verify API Gateway is created<br>+     19:   template.hasResourceProperties(&#39;AWS::ApiGateway::RestApi&#39;, {<br>+     20:     Name: &#39;Bedrock Claude 3 Haiku API&#39;,<br>+     21:   });<br>  13, 22: <br>- 14    : //   template.hasResourceProperties(&#39;AWS::SQS::Queue&#39;, {<br>- 15    : //     VisibilityTimeout: 300<br>- 16    : //   });<br>- 17    : });<br>+     23:   // Verify IAM role with Bedrock permissions<br>+     24:   template.hasResourceProperties(&#39;AWS::IAM::Policy&#39;, {<br>+     25:     PolicyDocument: {<br>+     26:       Statement: [<br>+     27:         {<br>+     28:           Action: &#39;bedrock:InvokeModel&#39;,<br>+     29:           Effect: &#39;Allow&#39;,<br>+     30:           Resource: &#39;*&#39;,<br>+     31:         },<br>+     32:       ],<br>+     33:     },<br>+     34:   });<br>+     35: });<br> <br>Enter y to run this tool, otherwise continue chatting.<br> <br>&gt; y<br> <br>Writing to filesystem...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Replacing: bedrock-api/test/bedrock-api.test.ts<br> <br>üü¢ Completed in 0.1s<br> <br>## Step 4: Create a simple HTML client (optional)<br> <br>Write to filesystem<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Path: /private/tmp/project/QDeveloperBuildOnAWS/bedrock-api/client/index.html<br> <br>+      1: &lt;!DOCTYPE html&gt;<br>+      2: &lt;html lang=&quot;en&quot;&gt;<br>+      3: &lt;head&gt;<br>+      4:     &lt;meta charset=&quot;UTF-8&quot;&gt;<br>+      5:     &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>+      6:     &lt;title&gt;Bedrock Claude 3 Haiku Demo&lt;/title&gt;<br>+      7:     &lt;style&gt;<br>+      8:         body {<br>+      9:             font-family: Arial, sans-serif;<br>+     10:             max-width: 800px;<br>+     11:             margin: 0 auto;<br>+     12:             padding: 20px;<br>+     13:         }<br>+     14:         .container {<br>+     15:             display: flex;<br>+     16:             flex-direction: column;<br>+     17:             gap: 20px;<br>+     18:         }<br>+     19:         textarea {<br>+     20:             width: 100%;<br>+     21:             height: 150px;<br>+     22:             padding: 10px;<br>+     23:             border-radius: 5px;<br>+     24:             border: 1px solid #ccc;<br>+     25:         }<br>+     26:         button {<br>+     27:             padding: 10px 20px;<br>+     28:             background-color: #ff9900;<br>+     29:             color: white;<br>+     30:             border: none;<br>+     31:             border-radius: 5px;<br>+     32:             cursor: pointer;<br>+     33:         }<br>+     34:         button:hover {<br>+     35:             background-color: #e68a00;<br>+     36:         }<br>+     37:         .response {<br>+     38:             white-space: pre-wrap;<br>+     39:             padding: 15px;<br>+     40:             background-color: #f5f5f5;<br>+     41:             border-radius: 5px;<br>+     42:             min-height: 100px;<br>+     43:         }<br>+     44:         .loading {<br>+     45:             display: none;<br>+     46:         }<br>+     47:     &lt;/style&gt;<br>+     48: &lt;/head&gt;<br>+     49: &lt;body&gt;<br>+     50:     &lt;div class=&quot;container&quot;&gt;<br>+     51:         &lt;h1&gt;Bedrock Claude 3 Haiku 3 Demo&lt;/h1&gt;<br>+     52:         &lt;p&gt;Enter your prompt below to interact with Claude 3 Haiku model:&lt;/p&gt;<br>+     53:         <br>+     54:         &lt;textarea id=&quot;prompt&quot; placeholder=&quot;Enter your prompt here...&quot;&gt;&lt;/textarea&gt;<br>+     55:         <br>+     56:         &lt;button id=&quot;submit&quot;&gt;Generate Response&lt;/button&gt;<br>+     57:         <br>+     58:         &lt;div class=&quot;loading&quot; id=&quot;loading&quot;&gt;Processing...&lt;/div&gt;<br>+     59:         <br>+     60:         &lt;div&gt;<br>+     61:             &lt;h3&gt;Response:&lt;/h3&gt;<br>+     62:             &lt;div class=&quot;response&quot; id=&quot;response&quot;&gt;&lt;/div&gt;<br>+     63:         &lt;/div&gt;<br>+     64:     &lt;/div&gt;<br>+     65: <br>+     66:     &lt;script&gt;<br>+     67:         document.getElementById(&#39;submit&#39;).addEventListener(&#39;click&#39;, async () =&gt; {<br>+     68:             const promptText = document.getElementById(&#39;prompt&#39;).value;<br>+     69:             const responseElement = document.getElementById(&#39;response&#39;);<br>+     70:             const loadingElement = document.getElementById(&#39;loading&#39;);<br>+     71:             <br>+     72:             if (!promptText) {<br>+     73:                 responseElement.textContent = &quot;Please enter a prompt.&quot;;<br>+     74:                 return;<br>+     75:             }<br>+     76:             <br>+     77:             // Replace with your actual API Gateway URL after deployment<br>+     78:             const apiUrl = &#39;YOUR_API_GATEWAY_URL/generate&#39;;<br>+     79:             <br>+     80:             responseElement.textContent = &#39;&#39;;<br>+     81:             loadingElement.style.display = &#39;block&#39;;<br>+     82:             <br>+     83:             try {<br>+     84:                 const response = await fetch(apiUrl, {<br>+     85:                     method: &#39;POST&#39;,<br>+     86:                     headers: {<br>+     87:                         &#39;Content-Type&#39;: &#39;application/json&#39;<br>+     88:                     },<br>+     89:                     body: JSON.stringify({ prompt: promptText })<br>+     90:                 });<br>+     91:                 <br>+     92:                 const data = await response.json();<br>+     93:                 <br>+     94:                 if (response.ok) {<br>+     95:                     responseElement.textContent = data.response;<br>+     96:                 } else {<br>+     97:                     responseElement.textContent = `Error: ${data.error || &#39;Unknown error occurred&#39;}`;<br>+     98:                 }<br>+     99:             } catch (error) {<br>+    100:                 responseElement.textContent = `Error: ${error.message}`;<br>+    101:             } finally {<br>+    102:                 loadingElement.style.display = &#39;none&#39;;<br>+    103:             }<br>+    104:         });<br>+    105:     &lt;/script&gt;<br>+    106: &lt;/body&gt;<br>+    107: &lt;/html&gt;<br> <br>Enter y to run this tool, otherwise continue chatting.<br> <br>&gt; y<br> <br>Writing to filesystem...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Creating: /private/tmp/project/QDeveloperBuildOnAWS/bedrock-api/client/index.html<br> <br>üü¢ Completed in 0.1s<br> <br>Now that we&#39;ve created all the necessary files, let&#39;s go through what we&#39;ve built and how to deploy it:<br>## Project Overview<br>I&#39;ve created a complete serverless application with the following components:<br> <br>1. CDK Infrastructure (TypeScript):<br>   ‚Ä¢ API Gateway to receive user requests<br>   ‚Ä¢ Lambda function with appropriate IAM permissions<br>   ‚Ä¢ Integration with Amazon Bedrock&#39;s Claude 3 Haiku model<br>2. Lambda Function (Python):<br>   ‚Ä¢ Processes incoming requests from API Gateway<br>   ‚Ä¢ Calls the Bedrock model with the user&#39;s prompt<br>   ‚Ä¢ Returns the model&#39;s response<br>3. Simple HTML Client:<br>   ‚Ä¢ Basic web interface to interact with your API<br>   ‚Ä¢ You&#39;ll need to update the API URL after deployment<br> <br>## Deployment Instructions<br> <br>1. Navigate to the project directory:<br>  bash<br>   cd bedrock-api<br>   <br> <br>2. Install dependencies:<br>  bash<br>   npm install<br>   <br> <br>3. Build the TypeScript code:<br>  bash<br>   npm run build<br>   <br> <br>4. Deploy the stack:<br>  bash<br>   cdk deploy<br>   <br> <br>5. After deployment, note the API Gateway URL from the outputs and update it in the client/index.html file.<br> <br>## How It Works<br> <br>1. The user sends a request to the API Gateway endpoint with their prompt.<br>2. API Gateway forwards the request to the Lambda function.<br>3. The Lambda function:<br>   ‚Ä¢ Extracts the prompt from the request<br>   ‚Ä¢ Formats it for the Bedrock model<br>   ‚Ä¢ Calls the Claude 3 Haiku model via the Bedrock API<br>   ‚Ä¢ Returns the model&#39;s response<br>4. API Gateway returns the response to the client<br>## Important Notes<br>1. Bedrock Access: Ensure your AWS account has access to the Claude 3 Haiku model in Bedrock.<br>2. IAM Permissions: The stack creates the necessary IAM role with permissions to invoke Bedrock models.<br>3. Region Consideration: Bedrock is not available in all AWS regions. Make sure to deploy to a region where Bedrock is available (e.g., us-east-1, us-west-2).<br>4. Cost Management: Be aware that using Bedrock models incurs costs based on the number of input and output tokens.<br>5. Production Readiness: For production use, consider adding:<br>   ‚Ä¢ Authentication and authorization<br>   ‚Ä¢ Request validation<br>   ‚Ä¢ Rate limiting<br>   ‚Ä¢ More specific IAM permissions<br>   ‚Ä¢ Error handling and monitoring<br>Would you like me to explain any specific part of the implementation in more detail?</pre>
<h3>üìÅ Project Structure</h3>
<p>
  The Amazon Q Developer CLI agent automatically scaffolded the project and
  created all the necessary files and subdirectories:
</p>
<pre>bedrock-api/<br>‚îú‚îÄ‚îÄ bin/<br>‚îÇ   ‚îî‚îÄ‚îÄ bedrock-api.ts              # Entry point for CDK app<br>‚îú‚îÄ‚îÄ lib/<br>‚îÇ   ‚îî‚îÄ‚îÄ bedrock-api-stack.ts        # Main CDK stack definition<br>‚îú‚îÄ‚îÄ lambda/<br>‚îÇ   ‚îú‚îÄ‚îÄ bedrock_handler.py          # Python Lambda function<br>‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt            # Python dependencies<br>‚îú‚îÄ‚îÄ client/<br>‚îÇ   ‚îî‚îÄ‚îÄ index.html                  # Simple web client for testing<br>‚îú‚îÄ‚îÄ architecture-diagram.drawio     # Architecture diagram (draw.io format)<br>‚îú‚îÄ‚îÄ architecture-diagram.jpg        # Architecture diagram (JPEG image)<br>‚îú‚îÄ‚îÄ architecture-diagram-ascii.txt  # ASCII art version of diagram<br>‚îú‚îÄ‚îÄ README.md                       # Project documentation<br>‚îú‚îÄ‚îÄ cdk.json                        # CDK configuration<br>‚îú‚îÄ‚îÄ package.json                    # Node.js dependencies<br>‚îî‚îÄ‚îÄ tsconfig.json                   # TypeScript configuration</pre>
<p>
  This project structure follows <strong>AWS best practices</strong>, clearly
  separating:
</p>
<ul>
  <li>
    <strong>Infrastructure code</strong> (CDK in TypeScript, located in the /lib
    directory)
  </li>
  <li>
    <strong>Lambda function code</strong> (Python, located in the /lambda
    directory)
  </li>
  <li>
    <strong>Client-side application</strong> (HTML/JS, located in the /client
    directory)
  </li>
  <li>
    <strong>Documentation</strong> (including architecture diagrams and
    README¬†files)
  </li>
</ul>
<h3>üöÄ Deploying and Testing with Amazon Q Developer CLI¬†Agent</h3>
<p>
  After the infrastructure code and Lambda function were automatically
  generated, I was ready to deploy the application. Below is the full deployment
  and testing workflow for this serverless GenAI application.
</p>
<p>When I was ready to deploy, all I had to do was tell Amazon¬†Q:</p>
<pre>let us deploy</pre>
<p>
  Amazon Q immediately understood my intent, suggested the next steps, and
  guided me through the entire deployment process:
</p>
<h3>üèóÔ∏è Building the Application</h3>
<p>
  Amazon Q first recognized that the TypeScript-based infrastructure code needed
  to be compiled:
</p>
<pre>cd bedrock-api &amp;&amp; npm run build</pre>
<h3>üîê AWS Credential Configuration</h3>
<p>
  When Amazon Q detected an issue with AWS access permissions, it automatically
  prompted me to provide the correct AWS credentials profile. All I had to do
  was¬†enter:
</p>
<pre>use profile aws-demo-profile</pre>
<h3>‚úÖ Successful Deployment</h3>
<p>
  After the build was completed and AWS credentials were configured, Amazon Q
  proceeded to execute the deployment command:
</p>
<pre>cd bedrock-api &amp;&amp; AWS_PROFILE=aws-demo-profile cdk deploy</pre>
<p>
  This deployment process created all the necessary AWS cloud resources and
  output important deployment result information:
</p>
<pre><br>Outputs:<br>BedrockApiStack.ApiUrl = https://&lt;unique-string&gt;.execute-api.us-east-1.amazonaws.com/prod/</pre>
<h3>üñ•Ô∏è Updating the Frontend¬†Code</h3>
<p>
  Amazon Q automatically updated the frontend HTML file, inserting the actual
  API Gateway¬†URL:
</p>
<pre>
const apiUrl = &#39;https://&lt;unique-string&gt;.execute-api.us-east-1.amazonaws.com/prod/generate&#39;;</pre
>
<h3>üß™ Testing the Deployed Application</h3>
<p>
  Amazon Q provided two ways to verify whether the application was successfully
  deployed:
</p>
<ol>
  <li><strong>Invoke the Lambda function directly:</strong></li>
</ol>
<pre><br>Execute shell command<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>I will run the following shell command: <br>cd bedrock-api &amp;&amp; AWS_PROFILE=aws-demo-profile aws lambda invoke --function-name BedrockApiStack-BedrockFunctionADEDD58A-g7Hd22vs8fS7 --payload &#39;{&quot;body&quot;: &quot;{\&quot;prompt\&quot;: \&quot;Hello, how are you?\&quot;}&quot;}&#39; --region us-east-1 --cli-binary-format raw-in-base64-out response.json<br> <br>Enter y to run this tool, otherwise continue chatting.<br> <br>&gt; y<br> <br>Executing `cd bedrock-api &amp;&amp; AWS_PROFILE=aws-demo-profile aws lambda invoke --function-name BedrockApiStack-BedrockFunctionADEDD58A-g7Hd22vs8fS7 --payload &#39;{&quot;body&quot;: &quot;{\&quot;prompt\&quot;: \&quot;Hello, how are you?\&quot;}&quot;}&#39; --region us-east-1 --cli-binary-format raw-in-base64-out response.json`...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>{<br>    &quot;StatusCode&quot;: 200,<br>    &quot;ExecutedVersion&quot;: &quot;$LATEST&quot;<br>}<br> <br>üü¢ Completed in 2.919s<br>Execute shell command<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>I will run the following shell command: <br>cd bedrock-api &amp;&amp; cat response.json<br> <br>Enter y to run this tool, otherwise continue chatting.<br> <br>&gt; y<br> <br>Executing `cd bedrock-api &amp;&amp; cat response.json`...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>{&quot;statusCode&quot;: 200, &quot;headers&quot;: {&quot;Content-Type&quot;: &quot;application/json&quot;, &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;}, &quot;body&quot;: &quot;{\&quot;response\&quot;: \&quot;Hello! As an AI language model, I don&#39;t have feelings or a physical body, but I&#39;m functioning well and ready to assist you with any questions or tasks you might have. How can I help you today?\&quot;}&quot;}<br> <br>üü¢ Completed in 0.21s</pre>
<p><strong>2. Use </strong><strong>curl to access the API endpoint:</strong></p>
<pre>curl -X POST https://&lt;your-api-id&gt;.execute-api.us-east-1.amazonaws.com/prod/generate \<br>  -H &quot;Content-Type: application/json&quot; \<br>  -d &#39;{&quot;question&quot;: &quot;What is Amazon Bedrock?&quot;}&#39;</pre>
<h3>üõ†Ô∏è Troubleshooting Deployment Issues</h3>
<p>
  While attempting to deploy the application using CDK, the Q CLI agent
  encountered a Docker-related error. It immediately:
</p>
<ul>
  <li>
    Identified the root cause (Docker was not running, which prevented CDK from
    packaging the application)
  </li>
  <li>
    Suggested a solution (modifying the CDK stack to use a simpler deployment
    method)
  </li>
  <li>Applied the necessary code¬†changes</li>
</ul>
<p>Amazon Q then precisely adjusted the code accordingly:</p>
<pre><br>// Changed from complex Docker bundling approach<br>const bedrockFunction = new lambda.Function(this, &#39;BedrockFunction&#39;, {<br>  // ...<br>  code: lambda.Code.fromAsset(path.join(__dirname, &#39;../lambda&#39;), {<br>    bundling: {<br>      image: lambda.Runtime.PYTHON_3_9.bundlingImage,<br>      command: [<br>        &#39;bash&#39;, &#39;-c&#39;, [<br>          &#39;pip install -r requirements.txt -t /asset-output&#39;,<br>          &#39;cp bedrock_handler.py /asset-output&#39;,<br>        ].join(&#39; &amp;&amp; &#39;),<br>      ],<br>    },<br>  }),<br>  // ...<br>});<br> <br>// Changed to simpler approach<br>const bedrockFunction = new lambda.Function(this, &#39;BedrockFunction&#39;, {<br>  // ...<br>  code: lambda.Code.fromAsset(path.join(__dirname, &#39;../lambda&#39;)),<br>  // ...<br>});</pre>
<h3>üìö Generating Documentation</h3>
<p>
  When I instructed the code assistant to generate an architecture diagram,
  Amazon Q not only created the diagram, but also provided:
</p>
<ul>
  <li>A detailed draw.io architecture diagram¬†file</li>
  <li>An ASCII version of the diagram for text-based documentation</li>
  <li>Automatic insertion of the diagram into the README.md file</li>
  <li>An HTML viewer to export the diagram as a JPEG¬†image</li>
</ul>
<p>
  With just a simple instruction, Amazon Q completed the entire documentation
  generation process.
</p>
<pre>
&gt; please generate an architecture diagram for this application that I can load on drawio</pre
>
<h3>üóÇÔ∏è Architecture Diagram</h3>
<p>
  The architecture diagram generated by Amazon Q clearly illustrates the data
  flow of the previously generated application:
</p>
<pre>&gt; please generate an architecture diagram for this application that I can load on drawio<br> <br>I&#39;ll create an architecture diagram for your serverless application that you can load in draw.io. Let me generate the XML content for a draw.io diagram.<br>Write to filesystem<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Path: /private/tmp/project/QDeveloperBuildOnAWS/bedrock-api/architecture-diagram.drawio<br>+      1: &lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2025-03-18T04:50:39.000Z&quot; agent=&quot;Mozilla/5.0&quot; etag=&quot;diagram_etag&quot; version=&quot;21.7.5&quot;&gt;<br>+      2:   &lt;diagram id=&quot;serverless-bedrock-app&quot; name=&quot;Serverless Bedrock Application&quot;&gt;<br>+      3:     &lt;mxGraphModel dx=&quot;1422&quot; dy=&quot;762&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;1100&quot; pageHeight=&quot;850&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;<br>+      4:       &lt;root&gt;<br>+      5:         &lt;mxCell id=&quot;0&quot; /&gt;<br>+      6:         &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;<br>+      7:         <br>+      8:         &lt;!-- Title --&gt;<br>+      9:         &lt;mxCell id=&quot;title&quot; value=&quot;Serverless Bedrock Application Architecture&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;<br>+     10:           &lt;mxGeometry x=&quot;250&quot; y=&quot;20&quot; width=&quot;600&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;<br>+     11:         &lt;/mxCell&gt;<br>+     12:         <br>+     13:         &lt;!-- Client --&gt;<br>+     14:         &lt;mxCell id=&quot;client&quot; value=&quot;Client Application&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;<br>+     15:           &lt;mxGeometry x=&quot;120&quot; y=&quot;200&quot; width=&quot;160&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;<br>+     16:         &lt;/mxCell&gt;<br>+     17:         <br>+     18:         &lt;!-- API Gateway --&gt;<br>+     19:         &lt;mxCell id=&quot;apiGateway&quot; value=&quot;Amazon API Gateway&quot; style=&quot;sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#FF4F8B;gradientDirection=north;fillColor=#BC1356;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=14;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;<br>+     20:           &lt;mxGeometry x=&quot;400&quot; y=&quot;200&quot; width=&quot;80&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;<br>+     21:         &lt;/mxCell&gt;<br>+     22:         <br>+     23:         &lt;!-- Lambda --&gt;<br>+     24:         &lt;mxCell id=&quot;lambda&quot; value=&quot;AWS Lambda&amp;#xa;(Python)&quot; style=&quot;sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=14;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;<br>+     25:           &lt;mxGeometry x=&quot;600&quot; y=&quot;200&quot; width=&quot;80&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;<br>+     26:         &lt;/mxCell&gt;<br>+     27:         <br>+     28:         &lt;!-- Bedrock --&gt;<br>+     29:         &lt;mxCell id=&quot;bedrock&quot; value=&quot;Amazon Bedrock&amp;#xa;(Claude 3 Haiku)&quot; style=&quot;sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#4AB29A;gradientDirection=north;fillColor=#116D5B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=14;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sagemaker;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;<br>+     30:           &lt;mxGeometry x=&quot;800&quot; y=&quot;200&quot; width=&quot;80&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;<br>+     31:         &lt;/mxCell&gt;<br>+     32:         <br>+     33:         &lt;!-- IAM Role --&gt;<br>+     34:         &lt;mxCell id=&quot;iamRole&quot; value=&quot;IAM Role&quot; style=&quot;sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#BF0816;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=14;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.role;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;<br>+     35:           &lt;mxGeometry x=&quot;602&quot; y=&quot;360&quot; width=&quot;78&quot; height=&quot;44&quot; as=&quot;geometry&quot; /&gt;<br>+     36:         &lt;/mxCell&gt;<br>+     37:         <br>+     38:         &lt;!-- CDK --&gt;<br>+     39:         &lt;mxCell id=&quot;cdk&quot; value=&quot;AWS CDK&amp;#xa;(TypeScript)&quot; style=&quot;sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=14;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.template;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;<br>+     40:           &lt;mxGeometry x=&quot;400&quot; y=&quot;360&quot; width=&quot;80&quot; height=&quot;78&quot; as=&quot;geometry&quot; /&gt;<br>+     41:         &lt;/mxCell&gt;<br>+     42:         <br>+     43:         &lt;!-- Connections --&gt;<br>+     44:         &lt;mxCell id=&quot;clientToApi&quot; value=&quot;HTTPS POST&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;client&quot; target=&quot;apiGateway&quot;&gt;<br>+     45:           &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;<br>+     46:         &lt;/mxCell&gt;<br>+     47:         <br>+     48:         &lt;mxCell id=&quot;apiToLambda&quot; value=&quot;Invoke&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;apiGateway&quot; target=&quot;lambda&quot;&gt;<br>+     49:           &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;<br>+     50:         &lt;/mxCell&gt;<br>+     51:         <br>+     52:         &lt;mxCell id=&quot;lambdaToBedrock&quot; value=&quot;InvokeModel&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;lambda&quot; target=&quot;bedrock&quot;&gt;<br>+     53:           &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;<br>+     54:         &lt;/mxCell&gt;<br>+     55:         <br>+     56:         &lt;mxCell id=&quot;iamToLambda&quot; value=&quot;Permissions&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;iamRole&quot; target=&quot;lambda&quot;&gt;<br>+     57:           &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;<br>+     58:             &lt;Array as=&quot;points&quot;&gt;<br>+     59:               &lt;mxPoint x=&quot;640&quot; y=&quot;320&quot; /&gt;<br>+     60:               &lt;mxPoint x=&quot;640&quot; y=&quot;320&quot; /&gt;<br>+     61:             &lt;/Array&gt;<br>+     62:           &lt;/mxGeometry&gt;<br>+     63:         &lt;/mxCell&gt;<br>+     64:         <br>+     65:         &lt;mxCell id=&quot;cdkToResources&quot; value=&quot;Deploys&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;cdk&quot; target=&quot;apiGateway&quot;&gt;<br>+     66:           &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;<br>+     67:             &lt;Array as=&quot;points&quot;&gt;<br>+     68:               &lt;mxPoint x=&quot;440&quot; y=&quot;320&quot; /&gt;<br>+     69:               &lt;mxPoint x=&quot;440&quot; y=&quot;320&quot; /&gt;<br>+     70:             &lt;/Array&gt;<br>+     71:           &lt;/mxGeometry&gt;<br>+     72:         &lt;/mxCell&gt;<br>+     73:         <br>+     74:         &lt;!-- Data Flow --&gt;<br>+     75:         &lt;mxCell id=&quot;dataFlow1&quot; value=&quot;1. User sends prompt&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;<br>+     76:           &lt;mxGeometry x=&quot;250&quot; y=&quot;170&quot; width=&quot;120&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;<br>+     77:         &lt;/mxCell&gt;<br>+     78:         <br>+     79:         &lt;mxCell id=&quot;dataFlow2&quot; value=&quot;2. API forwards request&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;<br>+     80:           &lt;mxGeometry x=&quot;480&quot; y=&quot;170&quot; width=&quot;120&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;<br>+     81:         &lt;/mxCell&gt;<br>+     82:         <br>+     83:         &lt;mxCell id=&quot;dataFlow3&quot; value=&quot;3. Lambda calls Bedrock&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;<br>+     84:           &lt;mxGeometry x=&quot;680&quot; y=&quot;170&quot; width=&quot;120&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;<br>+     85:         &lt;/mxCell&gt;<br>+     86:         <br>+     87:         &lt;mxCell id=&quot;dataFlow4&quot; value=&quot;4. Response returned to user&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;<br>+     88:           &lt;mxGeometry x=&quot;480&quot; y=&quot;300&quot; width=&quot;160&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;<br>+     89:         &lt;/mxCell&gt;<br>+     90:         <br>+     91:         &lt;!-- Legend --&gt;<br>+     92:         &lt;mxCell id=&quot;legend&quot; value=&quot;Legend&quot; style=&quot;swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontSize=14;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;<br>+     93:           &lt;mxGeometry x=&quot;800&quot; y=&quot;360&quot; width=&quot;200&quot; height=&quot;150&quot; as=&quot;geometry&quot; /&gt;<br>+     94:         &lt;/mxCell&gt;<br>+     95:         <br>+     96:         &lt;mxCell id=&quot;legendItem1&quot; value=&quot;Client: HTML/JS Web Interface&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontSize=12;&quot; vertex=&quot;1&quot; parent=&quot;legend&quot;&gt;<br>+     97:           &lt;mxGeometry y=&quot;30&quot; width=&quot;200&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;<br>+     98:         &lt;/mxCell&gt;<br>+     99:         <br>+    100:         &lt;mxCell id=&quot;legendItem2&quot; value=&quot;API Gateway: REST API Endpoint&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontSize=12;&quot; vertex=&quot;1&quot; parent=&quot;legend&quot;&gt;<br>+    101:           &lt;mxGeometry y=&quot;60&quot; width=&quot;200&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;<br>+    102:         &lt;/mxCell&gt;<br>+    103:         <br>+    104:         &lt;mxCell id=&quot;legendItem3&quot; value=&quot;Lambda: Python Function&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontSize=12;&quot; vertex=&quot;1&quot; parent=&quot;legend&quot;&gt;<br>+    105:           &lt;mxGeometry y=&quot;90&quot; width=&quot;200&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;<br>+    106:         &lt;/mxCell&gt;<br>+    107:         <br>+    108:         &lt;mxCell id=&quot;legendItem4&quot; value=&quot;Bedrock: Claude 3 Haiku Model&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontSize=12;&quot; vertex=&quot;1&quot; parent=&quot;legend&quot;&gt;<br>+    109:           &lt;mxGeometry y=&quot;120&quot; width=&quot;200&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;<br>+    110:         &lt;/mxCell&gt;<br>+    111:         <br>+    112:         &lt;!-- Footer --&gt;<br>+    113:         &lt;mxCell id=&quot;footer&quot; value=&quot;Deployed with AWS CDK in TypeScript&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=2&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;<br>+    114:           &lt;mxGeometry x=&quot;350&quot; y=&quot;500&quot; width=&quot;400&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;<br>+    115:         &lt;/mxCell&gt;<br>+    116:       &lt;/root&gt;<br>+    117:     &lt;/mxGraphModel&gt;<br>+    118:   &lt;/diagram&gt;<br>+    119: &lt;/mxfile&gt;<br>Enter y to run this tool, otherwise continue chatting.<br>&gt; y<br>Writing to filesystem...<br>‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî‚ñî<br>Creating: /private/tmp/project/QDeveloperBuildOnAWS/bedrock-api/architecture-diagram.drawio<br>üü¢ Completed in 0.0s</pre>
<p>
  When I imported the architecture diagram into draw.io, it fully aligned with
  our architecture requirements, as shown¬†below:
</p>
<figure>
  <img
    alt=""
    src="https://cdn-images-1.medium.com/max/1024/1*q53S2NfCfIxU1ODrGERuIQ.png"
  />
</figure>
<p>
  Later, I entered the command
  <strong
    >‚ÄúConvert this architecture diagram to an ASCII representation‚Äù</strong
  >
  into the Q Developer CLI agent, and it generated the following output:
</p>
<pre>&gt; render this diagram as ASCII representation.</pre>
<pre>For those who prefer text-based diagrams, here&#39;s an ASCII representation:<br> <br>                                SERVERLESS BEDROCK APPLICATION ARCHITECTURE<br> <br>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     HTTP POST    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     Invoke       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    InvokeModel   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê<br>‚îÇ                 ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ ‚îÇ                 ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ ‚îÇ                 ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ ‚îÇ                 ‚îÇ<br>‚îÇ  Client         ‚îÇ                  ‚îÇ  API Gateway    ‚îÇ                  ‚îÇ  Lambda         ‚îÇ                  ‚îÇ  Bedrock        ‚îÇ<br>‚îÇ  Application    ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ  REST API       ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ  Function       ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ  Claude 3 Haiku ‚îÇ<br>‚îÇ  (HTML/JS)      ‚îÇ     Response     ‚îÇ                 ‚îÇ     Response     ‚îÇ  (Python)       ‚îÇ     Response     ‚îÇ                 ‚îÇ<br>‚îÇ                 ‚îÇ                  ‚îÇ                 ‚îÇ                  ‚îÇ                 ‚îÇ                  ‚îÇ                 ‚îÇ<br>‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò<br>                                            ‚ñ≤                                     ‚ñ≤<br>                                            ‚îÇ                                     ‚îÇ<br>                                            ‚îÇ                                     ‚îÇ<br>                                     Deploys‚îÇ                              Grants ‚îÇPermissions<br>                                            ‚îÇ                                     ‚îÇ<br>                                            ‚îÇ                                     ‚îÇ<br>                                     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê<br>                                     ‚îÇ                 ‚îÇ                  ‚îÇ                 ‚îÇ<br>                                     ‚îÇ  AWS CDK        ‚îÇ                  ‚îÇ  IAM Role       ‚îÇ<br>                                     ‚îÇ  (TypeScript)   ‚îÇ                  ‚îÇ                 ‚îÇ<br>                                     ‚îÇ                 ‚îÇ                  ‚îÇ                 ‚îÇ<br>                                     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò<br> <br>DATA FLOW:<br>1. User sends prompt from client application to API Gateway<br>2. API Gateway forwards the request to Lambda function<br>3. Lambda function calls Bedrock with the prompt<br>4. Bedrock generates response and returns to Lambda<br>5. Lambda formats response and returns via API Gateway<br>6. Client displays the response to the user<br> <br>COMPONENTS:<br>‚Ä¢ Client Application: HTML/JS web interface for user interaction<br>‚Ä¢ API Gateway: REST API endpoint (/generate) accepting POST requests<br>‚Ä¢ Lambda Function: Python code that processes requests and calls Bedrock<br>‚Ä¢ Bedrock: Claude 3 Haiku model for generating AI responses<br>‚Ä¢ IAM Role: Provides necessary permissions for Lambda to call Bedrock<br>‚Ä¢ CDK: Infrastructure as code using TypeScript to deploy all resources</pre>
<h3>‚úÖ Final¬†Result</h3>
<p>
  Starting from a simple architecture description, we used the
  <strong>Amazon Q Developer CLI agent</strong> to accomplish the following:
</p>
<ul>
  <li>
    Built a complete <strong>serverless GenAI application</strong> using AWS¬†CDK
  </li>
  <li>
    Integrated with the <strong>Claude 3 Haiku model</strong> on Amazon¬†Bedrock
  </li>
  <li>Successfully deployed all resources to¬†<strong>AWS</strong></li>
  <li>Tested the functionality of the application</li>
  <li>Generated comprehensive <strong>architecture documentation</strong></li>
</ul>
<p>
  In the end, we were able to send prompts to the application‚Äôs API and receive
  AI-generated responses from Claude 3 Haiku‚Ää‚Äî‚Ää<strong
    >all powered by a fully serverless architecture</strong
  >.
</p>
<h3>üß† Summary‚Ää‚Äî‚ÄäThe Power of the Amazon Q Developer CLI¬†Agent</h3>
<p>
  In this project, the Amazon Q Developer CLI agent demonstrated exceptional
  capabilities:
</p>
<ul>
  <li>
    <strong>Understanding Requirements</strong>: Translated a high-level
    architecture description into a fully functional application architecture
  </li>
  <li>
    <strong>Full-Stack Development</strong>: Automatically generated both
    infrastructure and application code
  </li>
  <li>
    <strong>Problem Solving</strong>: Identified and resolved deployment issues
    intelligently
  </li>
  <li>
    <strong>Deep AWS Integration</strong>: Executed the correct AWS commands for
    deployment and¬†testing
  </li>
  <li>
    <strong>Documentation Generation</strong>: Produced complete architecture
    diagrams and documentation
  </li>
</ul>
<img
  src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=fe7ebec5dc36"
  width="1"
  height="1"
  alt=""
/>
